(this.webpackJsonpsqlclient=this.webpackJsonpsqlclient||[]).push([[5],{154:function(t,e,n){"use strict";var r=n(2),o=n(40),i=n(0),a=n(56),s=n(224),c=n(176),u=n(127),l=n(140),d=Object(u.a)((function(t){return Object(l.a)({textFieldInput:{width:"90%",marginTop:20},button:{backgroundColor:t.palette.secondary.main,marginTop:10},container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5,width:"85%"}})})),p=function(t){return 6===t.length&&/^[0-9]+$/.test(t)},f=n(41),b=n(42);e.a=function(){var t=d(),e=Object(i.useState)(""),n=Object(o.a)(e,2),u=n[0],l=n[1],m=Object(i.useContext)(f.a).dispatch;return Object(r.jsxs)("div",{className:t.container,children:[Object(r.jsx)(s.a,{value:u,variant:"outlined",label:"Voting code (6 digits)",placeholder:"Type the 6-digit code here",onChange:function(t){l(t.target.value)},className:t.textFieldInput,id:"code-textfield"}),p(u)&&Object(r.jsx)(c.a,{onClick:function(){m({type:b.a.SET_VOTING_NUMBER,data:u})},className:t.button,id:"fetchData-button",children:Object(r.jsx)(a.a,{children:"GET VOTING"})})]})}},155:function(t,e,n){"use strict";n.d(e,"a",(function(){return V}));var r=n(145),o=n.n(r),i=n(146),a=n(40),s=n(0),c=n(42),u=n(150),l=n.n(u),d="http://localhost:3001";d="https://lotsofdotsserver.herokuapp.com";var p=function(){var t=Object(i.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("".concat(d,"/votings/").concat(e));case 3:return n=t.sent,t.abrupt("return",f(n.data));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),f=function(t){var e=t;return{question:h(e.question),votingNumber:j(e.voting_number),showNames:g(e.show_names),allowedCount:v(e.allowed_count),created:x(e.created),optionVotes:O(e.option_votes)}},b=function(t){return"string"===typeof t||t instanceof String},m=function(t){return"number"===typeof t||t instanceof Number},h=function(t){if(!t||!b(t))throw new Error("Question is required and must be string!");return t},j=function(t){if(!t||!b(t))throw new Error("Voting number is required and must be string!");return t},g=function(t){if(void 0===t||null===t||!("boolean"===typeof(e=t)||e instanceof Boolean))throw new Error("Show names is required and must be a boolean value!");var e;return t},v=function(t){if(!t||!m(t))throw new Error("Allowed count is required and must be a number!");return t},x=function(t){if(!t||!b(t))throw new Error("Date is required and must be string!");return t},O=function(t){if(!t||!Array.isArray(t))throw new Error("Options are required and must be an array of option data!");return t.map((function(t){return w(t)}))},w=function(t){var e=t;return{id:N(e.id),optionText:T(e.option_text),optionVoters:y(e.option_voters)}},N=function(t){if(!t||!m(t))throw new Error("Option Id is required and must be a number!");return t},T=function(t){if(!t||!b(t))throw new Error("Option text is required and must be string!");return t},y=function(t){if(!t||!Array)throw new Error("Option voters are required and must be an array of string or null!");return 1===t.length&&null===t[0]?[]:q(t)},C=function(t){return t.every((function(t){return null===t}))},q=function(t){if(!C(t)&&!function(t){return t.every((function(t){return b(t)}))}(t))throw new Error("Option voters are required and must be an array of string or null!");return C(t),t},E=n(41),V=function(){var t=Object(s.useState)(!1),e=Object(a.a)(t,2),n=e[0],r=e[1],u=Object(s.useContext)(E.a),l=u.state,d=u.dispatch;return Object(s.useEffect)((function(){function t(){return(t=Object(i.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===l.votingNumber){t.next=5;break}return t.next=3,p(l.votingNumber);case 3:void 0!==(e=t.sent)?d({type:c.a.SET_VOTING_DATA,data:e}):r(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),{errorInGettingData:n}}},156:function(t,e,n){"use strict";var r=n(2),o=(n(0),n(56)),i=n(127),a=n(140),s=Object(i.a)((function(t){return Object(a.a)({container:{marginTop:40},text:{color:t.palette.error.main,textAlign:"center",marginTop:10}})}));e.a=function(t){var e=t.votingNumber,n=s();return Object(r.jsxs)("div",{className:n.container,children:[Object(r.jsx)(o.a,{variant:"h6",className:n.text,children:"Voting number"}),Object(r.jsx)(o.a,{variant:"h4",className:n.text,children:Object(r.jsx)("strong",{children:e})}),Object(r.jsx)(o.a,{variant:"h6",className:n.text,children:"Could not find that voting!"})]})}},228:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n(0),i=n(41),a=n(154),s=n(56),c=n(156),u=n(155),l=n(127),d=n(140),p=Object(l.a)((function(t){return Object(d.a)({questionText:{textAlign:"center",marginTop:20},submitButtonContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:40},submitButton:{backgroundColor:t.palette.primary.dark},submitButtonText:{color:t.palette.primary.contrastText},linkText:{color:t.palette.primary.main},rowContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:20,marginLeft:20},optionText:{marginRight:40},voterName:{marginTop:-5},text:{textAlign:"center",marginTop:20,color:t.palette.primary.dark},optionContainer:{backgroundColor:t.palette.secondary.main,marginTop:5,borderRadius:6,paddingLeft:10},votesNumberText:{marginTop:-5}})})),f=function(t){var e=t.option,n=t.showNames,a=Object(o.useContext)(i.a).state,c=p();console.log(a.votingData);var u=e.optionVoters.length+" votes";return n&&e.optionVoters.length>0&&(u+=", voters: "),Object(r.jsxs)("div",{className:c.optionContainer,children:[Object(r.jsx)(s.a,{variant:"h6",className:c.optionText,children:Object(r.jsx)("strong",{children:e.optionText})}),Object(r.jsx)(s.a,{className:c.votesNumberText,children:u}),n&&Object(r.jsx)("ul",{children:e.optionVoters.sort().map((function(t,n){return Object(r.jsx)("li",{children:Object(r.jsx)(s.a,{className:c.voterName,children:t})},t+e.optionText+n)}))})]})},b=function(){var t=Object(o.useContext)(i.a).state,e=Object(u.a)().errorInGettingData,n=p();if(!t.votingNumber)return null;if(e)return Object(r.jsx)(c.a,{votingNumber:t.votingNumber});if(!t.votingData)return null;var a=t.votingData,l=a.optionVotes.sort((function(t,e){return t.optionVoters.length<e.optionVoters.length?1:t.optionVoters.length>e.optionVoters.length?-1:0}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(s.a,{variant:"h5",className:n.questionText,children:Object(r.jsx)("strong",{children:a.question})}),l.map((function(t){return Object(r.jsx)(f,{option:t,showNames:a.showNames},t.id)}))]})};e.default=function(){var t=Object(o.useContext)(i.a).state,e=p();return Object(r.jsxs)("div",{children:[Object(r.jsx)(s.a,{variant:"h5",className:e.text,children:Object(r.jsx)("strong",{children:"RESULTS"})}),void 0===t.votingNumber?Object(r.jsx)(a.a,{}):Object(r.jsx)(b,{})]})}}}]);
//# sourceMappingURL=5.8c4d516a.chunk.js.map