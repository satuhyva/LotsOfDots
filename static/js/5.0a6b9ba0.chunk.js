(this.webpackJsonpsqlclient=this.webpackJsonpsqlclient||[]).push([[5],{217:function(t,e,n){"use strict";n.r(e);var a,i=n(2),c=n(31),r=n(41),o=n(0),s=n.n(o),l=n(222),u=n(211),d=n(56),j=n(221),b=n(212),p=n(127),m=n(140),x=Object(p.a)((function(t){return Object(m.a)({stepLabelTextActive:{color:t.palette.primary.dark,fontSize:14,marginTop:-14},stepLabelTextNotActive:{color:t.palette.primary.light,fontSize:14,marginTop:-14},iconActive:{color:t.palette.primary.dark},iconNotActive:{color:t.palette.primary.light}})})),O=n(172),v=n.n(O),h=n(173),f=n.n(h),g=function(t){var e=t.activeStep,n=t.setActiveStep,a=t.stepsWithValues,c=x();return Object(i.jsx)(l.a,{alternativeLabel:!0,nonLinear:!0,activeStep:e,"data-testid":"stepper",children:a.map((function(t){var a=t.index===e;return Object(i.jsx)(u.a,{children:Object(i.jsx)(b.a,{onClick:function(){return n(t.index)},"data-testid":"step-button-".concat(t.index),children:Object(i.jsx)(j.a,{StepIconComponent:function(){return function(t,e){var n=x(),a=t?n.iconActive:n.iconNotActive;return e?Object(i.jsx)(v.a,{className:a}):Object(i.jsx)(f.a,{className:a})}(a,void 0!==t.value)},children:Object(i.jsx)(d.a,{className:a?c.stepLabelTextActive:c.stepLabelTextNotActive,children:t.label})})})},t.label)}))})},y=[{index:0,label:"question",value:void 0},{index:1,label:"options",value:void 0},{index:2,label:"count",value:void 0},{index:3,label:"identity",value:void 0},{index:4,label:"code",value:void 0}],C=Object(p.a)((function(t){return Object(m.a)({pageTitleContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20,marginBottom:-5},text:{color:t.palette.primary.main}})})),N=function(){var t=C();return Object(i.jsxs)("div",{className:t.pageTitleContainer,children:[Object(i.jsx)(d.a,{variant:"h5",className:t.text,children:"CREATE NEW VOTING"}),Object(i.jsx)(d.a,{className:t.text,children:"Complete all steps to create a new voting event."})]})},S=Object(p.a)((function(t){return Object(m.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5},displayContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:10,width:"85%",borderRadius:6,backgroundColor:t.palette.secondary.light,padding:10},text:{color:t.palette.primary.main},inputWidth:{width:"90%"},iconButton:{backgroundColor:t.palette.secondary.main,marginTop:10},editIconButton:{backgroundColor:t.palette.secondary.main,margin:10},displayQuestion:{fontSize:20,fontStyle:"italic",color:t.palette.primary.main}})})),T=Object(p.a)((function(t){return Object(m.a)({buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:30},buttonText:{color:t.palette.primary.dark},iconButton:{backgroundColor:t.palette.secondary.main,margin:5}})})),A=n(171),I=function(t){var e=t.activeStep,n=t.setActiveStep,a=t.value,c=T();return Object(i.jsxs)("div",{className:c.buttonsContainer,"data-testid":"Buttons",children:[e>0&&Object(i.jsx)(A.a,{onClick:function(){n(e-1)},className:c.iconButton,"data-testid":"button-back",children:Object(i.jsx)(d.a,{className:c.buttonText,children:"BACK"})}),e<4&&void 0!==a&&""!==a&&!(Array.isArray(a)&&a.length<2)&&Object(i.jsx)(A.a,{onClick:function(){n(e+1)},className:c.iconButton,"data-testid":"button-next",children:Object(i.jsx)(d.a,{className:c.buttonText,children:"NEXT"})})]})},w=n(218),D=function(t){return t.trim().length>0},B=function(t){var e=t.currentQuestion,n=t.saveQuestion,a=S(),c=Object(o.useState)(e),s=Object(r.a)(c,2),l=s[0],u=s[1];return Object(i.jsxs)("div",{className:a.container,"data-testid":"EditQuestion",children:[Object(i.jsx)(d.a,{className:a.text,children:"What is the voting about?"}),Object(i.jsx)(d.a,{className:a.text,children:"Type the voting question below."}),Object(i.jsx)(w.a,{value:l,placeholder:"For example: \nWhere should we go on next holiday?",variant:"outlined",multiline:!0,rows:5,onChange:function(t){u(t.target.value)},className:a.inputWidth,"data-testid":"edit-textfield"}),D(l)&&Object(i.jsx)(A.a,{onClick:function(){return n(l)},className:a.iconButton,"data-testid":"save-edit-button",children:Object(i.jsx)(d.a,{children:"SAVE"})})]})},k=n(130),V=n(151),E=n.n(V),W=function(t){var e=t.currentQuestion,n=t.startEditing,a=S();return Object(i.jsxs)("div",{className:a.displayContainer,"data-testid":"DisplayQuestion",children:[Object(i.jsx)(d.a,{className:a.displayQuestion,children:e}),Object(i.jsx)(k.a,{onClick:n,className:a.editIconButton,"data-testid":"icon-button",children:Object(i.jsx)(E.a,{})})]})},M=function(t){var e=t.setActiveStep,n=t.updateStepsWithValues,a=t.step,s=S(),l=Object(o.useState)(void 0===a.value),u=Object(r.a)(l,2),j=u[0],b=u[1],p=void 0===a.value?"":a.value;return Object(i.jsxs)("div",{className:s.container,"data-testid":"CreateQuestion",children:[Object(i.jsx)(d.a,{variant:"h6",className:s.text,children:"QUESTION"}),j?Object(i.jsx)(B,{currentQuestion:p,saveQuestion:function(t){b(!1),n(Object(c.a)(Object(c.a)({},a),{},{value:t}))}}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(W,{currentQuestion:p,startEditing:function(){return b(!0)}}),Object(i.jsx)(I,{activeStep:a.index,setActiveStep:e,value:p})]})]})},F=function(t,e){return e.map((function(e){return function(t,e){return t.index===e.index}(e,t)&&function(t,e){return t.index===e.index&&t.label===e.label}(e,t)&&function(t){switch(t.label){case"question":return"string"===typeof t.value;case"options":return Array.isArray(t.value)&&t.value.every((function(t){return"string"===typeof t}));case"count":return"number"===typeof t.value;case"identity":return"boolean"===typeof t.value;case"code":return"string"===typeof t.value;default:return!1}}(t)?Object(c.a)({},t):Object(c.a)({},e)}))},L=Object(p.a)((function(t){return Object(m.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5,width:"85%"},displayContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:10,width:"85%",borderRadius:6,backgroundColor:t.palette.secondary.light,padding:10},text:{color:t.palette.primary.main,textAlign:"center",marginBottom:10},outerContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})})),Q=n(219),R=n(223),q=n(214),z=n(213),G=n(22),U=function(t){var e=t.saveIdentityData,n=t.selectedValue,a=G.a.palette.primary.light,r=G.a.palette.primary.dark,o={style:{color:""===n?a:"false"===n?r:a}},s={style:{color:""===n?a:"true"===n?r:a}};return Object(i.jsx)("div",{"data-testid":"RadioButtons",children:Object(i.jsx)(z.a,{component:"fieldset",children:Object(i.jsxs)(R.a,{value:n,onChange:function(t){e(t.target.value)},"data-testid":"radiogroup",children:[Object(i.jsx)(q.a,Object(c.a)({value:"false",control:Object(i.jsx)(Q.a,Object(c.a)({},o)),label:"Anonymous voting"},o)),Object(i.jsx)(q.a,Object(c.a)({value:"true",control:Object(i.jsx)(Q.a,Object(c.a)({},s)),label:"Show voter names"},s))]})})})},Y=function(t){var e=t.setActiveStep,n=t.updateStepsWithValues,a=t.step,r=L();return Object(i.jsx)("div",{className:r.outerContainer,children:Object(i.jsxs)("div",{className:r.container,"data-testid":"SettingIdentity",children:[Object(i.jsx)(d.a,{variant:"h6",className:r.text,children:"IDENTITY"}),Object(i.jsx)(d.a,{className:r.text,children:"When showing the results of the voting event, should the names of the voters behind each vote be revealed to all participants?"}),Object(i.jsx)(U,{saveIdentityData:function(t){n(Object(c.a)(Object(c.a)({},a),{},{value:"true"===t}))},selectedValue:void 0===a.value?"":!0===a.value?"true":"false"}),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(I,{activeStep:a.index,setActiveStep:e,value:a.value})})]})})},P=Object(p.a)((function(t){return Object(m.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5,width:"85%"},displayContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:10,width:"85%",borderRadius:6,backgroundColor:t.palette.secondary.light,padding:10},text:{color:t.palette.primary.main,textAlign:"center",marginBottom:10},outerContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},inputWidth:{width:"90%"},iconButton:{backgroundColor:t.palette.secondary.main,marginTop:10},editIconButton:{backgroundColor:t.palette.secondary.main,margin:10},listText:{color:t.palette.primary.main,fontSize:18,fontStyle:"italic"},listIcon:{color:t.palette.primary.main},listIconButton:{backgroundColor:t.palette.secondary.light,marginLeft:10,marginTop:-5,marginBottom:-5},addButton:{backgroundColor:t.palette.secondary.light,marginBottom:-10,marginTop:10},buttonText:{color:t.palette.primary.dark}})})),H=n(132),J=n(136),K=n(133),X=n(175),Z=n.n(X),$=n(134),_=function(t){var e=t.currentOptions,n=t.updateOptionsList,c=t.selectOptionForEditing,r=P();return 0===e.length?Object(i.jsx)("div",{className:r.container,"data-testid":"CreateQuestion",children:Object(i.jsx)(d.a,{className:r.text,children:"No options have been added yet."})}):Object(i.jsx)(H.a,{"data-testid":"OptionsList",children:e.map((function(t){return Object(i.jsxs)(s.a.Fragment,{children:[Object(i.jsxs)(K.a,{children:[Object(i.jsx)(J.a,{children:Object(i.jsx)(d.a,{className:r.listText,children:t})}),Object(i.jsx)(k.a,{className:r.listIconButton,onClick:function(){c(t)},children:Object(i.jsx)(E.a,{className:r.listIcon})}),Object(i.jsx)(k.a,{className:r.listIconButton,onClick:function(){return e=t,void n(a.REMOVE,"",e);var e},children:Object(i.jsx)(Z.a,{className:r.listIcon})})]}),Object(i.jsx)($.a,{})]},t)}))})},tt=function(t,e){return t.trim().length>0&&!e.includes(t)},et=function(t){var e=t.updateOptionsList,n=t.isEditing,c=t.currentOptions,s=P(),l=Object(o.useState)(void 0!==n?n:""),u=Object(r.a)(l,2),j=u[0],b=u[1],p=Object(o.useState)(void 0===n?a.ADD:""!==n?a.MODIFY:a.ADD),m=Object(r.a)(p,1)[0];return Object(i.jsxs)("div",{className:s.container,"data-testid":"AddOrEditOption",children:[Object(i.jsx)(w.a,{value:j,variant:"outlined",placeholder:"Type a new option here.",multiline:!0,rows:5,onChange:function(t){b(t.target.value)},className:s.inputWidth,"data-testid":"option-textfield"}),tt(j,c)&&Object(i.jsx)(A.a,{onClick:function(){e(m,j,""!==n?n:""),b("")},className:s.iconButton,"data-testid":"save-option-button",children:Object(i.jsx)(d.a,{children:"SAVE"})})]})},nt=n(196);!function(t){t.ADD="add new item to list",t.MODIFY="modify item on list",t.REMOVE="remove item from list"}(a||(a={}));var at=function(t){var e=t.setActiveStep,n=t.updateStepsWithValues,s=t.step,l=P(),u=Object(o.useState)(void 0===s.value?[]:s.value),j=Object(r.a)(u,2),b=j[0],p=j[1],m=Object(o.useState)(b.length>1?void 0:""),x=Object(r.a)(m,2),O=x[0],v=x[1],h=function(t,e,i){var r=function(t,e,n,i){var c=Object(nt.a)(t);switch(console.log(e),e){case a.ADD:return c.push(n),c;case a.MODIFY:return c.map((function(t){return i===t?n:t}));case a.REMOVE:return c.filter((function(t){return t!==i}));default:return t}}(b,t,e,i);p(r),v(void 0),n(Object(c.a)(Object(c.a)({},s),{},{value:r}))},f=function(t){v(t)};return Object(i.jsx)("div",{className:l.outerContainer,children:Object(i.jsxs)("div",{className:l.container,"data-testid":"VotingOptions",children:[Object(i.jsx)(d.a,{variant:"h6",className:l.text,children:"VOTING OPTIONS"}),Object(i.jsx)(_,{currentOptions:b,updateOptionsList:h,selectOptionForEditing:f}),b.length<2||void 0!==O?Object(i.jsx)(et,{updateOptionsList:h,isEditing:O,currentOptions:b}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(A.a,{onClick:function(){return f("")},className:l.addButton,"data-testid":"button-add",children:Object(i.jsx)(d.a,{className:l.buttonText,children:"+ ADD NEW"})}),Object(i.jsx)(I,{activeStep:s.index,setActiveStep:e,value:b})]})]})})},it=Object(p.a)((function(t){return Object(m.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5,width:"85%"},displayContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:10,width:"85%",borderRadius:6,backgroundColor:t.palette.secondary.light,padding:10},text:{color:t.palette.primary.main,textAlign:"center",marginBottom:10},outerContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})})),ct=function(t){var e=t.saveCountData,n=t.selectedValue,a={style:{color:G.a.palette.primary.dark}},r={style:{color:G.a.palette.primary.light}};return Object(i.jsx)("div",{"data-testid":"RadioButtons",children:Object(i.jsx)(z.a,{component:"fieldset",children:Object(i.jsx)(R.a,{value:n,onChange:function(t){console.log(t.target.value),e(t.target.value)},"data-testid":"radiogroup",children:["1","2","3","4","5"].map((function(t){var e=n===t?a:r;return Object(i.jsx)(q.a,Object(c.a)({value:t,control:Object(i.jsx)(Q.a,Object(c.a)({},e)),label:t},e),t+"count")}))})})})},rt=function(t){var e=t.setActiveStep,n=t.updateStepsWithValues,a=t.step,r=it();return Object(i.jsx)("div",{className:r.outerContainer,children:Object(i.jsxs)("div",{className:r.container,"data-testid":"SettingCount",children:[Object(i.jsx)(d.a,{variant:"h6",className:r.text,children:"NUMBER OF VOTES TO GIVE"}),Object(i.jsx)(d.a,{className:r.text,children:"How many votes should one participant be able to give in total?"}),Object(i.jsx)(ct,{saveCountData:function(t){n(Object(c.a)(Object(c.a)({},a),{},{value:parseInt(t)}))},selectedValue:void 0===a.value?"":a.value.toString()}),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(I,{activeStep:a.index,setActiveStep:e,value:a.value})})]})})},ot=n(153),st=n.n(ot),lt=n(154),ut=Object(p.a)((function(t){return Object(m.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5,width:"85%"},text:{color:t.palette.primary.main,textAlign:"center"},outerContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},previewContainer:{backgroundColor:t.palette.secondary.light,marginTop:5,width:"90%",borderRadius:6,padding:10},questionText:{color:t.palette.primary.main,textAlign:"center",fontSize:20,marginBottom:-10},optionText:{color:t.palette.primary.main},infoText:{color:t.palette.primary.main,fontSize:16},errorMessage:{color:t.palette.error.main,fontSize:20,textAlign:"center",marginTop:10},noteText:{color:t.palette.primary.main,fontSize:14,paddingTop:10,fontStyle:"italic",textAlign:"center"},buttonsContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:30},buttonText:{color:t.palette.primary.dark},iconButton:{backgroundColor:t.palette.secondary.main,margin:5}})})),dt=function(t){var e,n=t.stepsWithValues,a=ut();return Object(i.jsxs)("div",{className:a.previewContainer,children:[Object(i.jsx)(d.a,{className:a.text,children:Object(i.jsx)("strong",{children:"SUMMARY OF THE VOTING:"})}),Object(i.jsxs)("div",{"data-testid":"PreviewVoting",className:a.outerContainer,children:[Object(i.jsx)(d.a,{className:a.questionText,children:n[0].value}),Object(i.jsx)("ul",{children:null===(e=n[1].value)||void 0===e?void 0:e.map((function(t){return Object(i.jsx)("li",{className:a.optionText,children:t},t)}))}),Object(i.jsxs)(d.a,{className:a.infoText,children:[n[2].value," votes / voter"]}),Object(i.jsx)(d.a,{className:a.infoText,children:n[3].value?"Show voter names to all":"Anonymous voting"})]})]})},jt=function(t){var e=t.stepsWithMissingValues,n=ut();return Object(i.jsxs)("div",{className:n.outerContainer,children:[Object(i.jsx)(d.a,{className:n.text,children:"All parameter values need to be set before your new voting event can be created."}),Object(i.jsx)(d.a,{className:n.text,children:"Please give values to the following:"}),Object(i.jsx)("ul",{children:e.map((function(t){return Object(i.jsx)("li",{children:t.label},t.label)}))})]})},bt=function(t){var e=t.setActiveStep,n=t.submitData,a=t.valuesAreMissing,c=ut();return Object(i.jsxs)("div",{children:[!a&&Object(i.jsx)(d.a,{className:c.noteText,children:"NOTE: Once you submit the voting data you cannot edit the voting parameters anymore!"}),Object(i.jsxs)("div",{className:c.buttonsContainer,"data-testid":"Buttons",children:[Object(i.jsx)(A.a,{onClick:function(){e(3)},className:c.iconButton,"data-testid":"button-back",children:Object(i.jsx)(d.a,{className:c.buttonText,children:"BACK"})}),!a&&Object(i.jsx)(A.a,{onClick:n,className:c.iconButton,"data-testid":"button-submit",children:Object(i.jsx)(d.a,{className:c.buttonText,children:"SUBMIT"})})]})]})},pt=function(t){var e={};return void 0!==t[0]&&(e=Object(c.a)(Object(c.a)({},e),{},{question:t[0].value})),void 0!==t[1]&&(e=Object(c.a)(Object(c.a)({},e),{},{options:t[1].value})),void 0!==t[2]&&(e=Object(c.a)(Object(c.a)({},e),{},{allowedCount:t[2].value})),void 0!==t[3]&&(e=Object(c.a)(Object(c.a)({},e),{},{showNames:t[3].value})),e},mt=n(177),xt=n.n(mt),Ot={submitVotingData:function(){var t=Object(lt.a)(st.a.mark((function t(e){var n,a;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e,t.next=4,xt.a.post("https://lotsofdotsbackend.herokuapp.com/votings",n);case 4:return a=t.sent,t.abrupt("return",{success:!0,code:a.data});case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.toString()),t.abrupt("return",{success:!1,error:"SUBMISSION FAILED!!!"});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},vt=function(t){var e=t.setActiveStep,n=t.stepsWithValues,a=t.setCode,c=ut(),s=Object(o.useState)(void 0),l=Object(r.a)(s,2),u=l[0],j=l[1],b=function(t){return t.filter((function(t){return void 0===t.value&&"code"!==t.label||(1===t.index?t.value.length<2:void 0)}))}(n),p=function(){var t=Object(lt.a)(st.a.mark((function t(){var e,i;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("submitVotingData"),e=pt(n),t.next=4,Ot.submitVotingData(e);case 4:i=t.sent,console.log(i),i.success&&i.code?a(i.code):!i.success&&i.error&&j(i.error);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(u),Object(i.jsx)("div",{className:c.outerContainer,children:Object(i.jsxs)("div",{className:c.container,"data-testid":"GetCode",children:[Object(i.jsx)(d.a,{variant:"h6",className:c.text,children:"GET VOTING CODE"}),b.length>0?Object(i.jsx)(jt,{stepsWithMissingValues:b}):Object(i.jsx)(dt,{stepsWithValues:n}),void 0!==u&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(d.a,{variant:"h6",className:c.errorMessage,children:u})}),Object(i.jsx)(bt,{setActiveStep:e,submitData:p,valuesAreMissing:b.length>0})]})})},ht=Object(p.a)((function(t){return Object(m.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:-5,width:"85%"},text:{color:t.palette.primary.main,textAlign:"center"},outerContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})})),ft=function(t){var e=t.stepsWithValues,n=t.code;console.log(e,n);var a=ht();return Object(i.jsx)("div",{className:a.outerContainer})};e.default=function(){var t=Object(o.useState)(0),e=Object(r.a)(t,2),n=e[0],a=e[1],s=Object(o.useState)(y),l=Object(r.a)(s,2),u=l[0],d=l[1],j=Object(o.useState)(void 0),b=Object(r.a)(j,2),p=b[0],m=b[1],x={setActiveStep:a,updateStepsWithValues:function(t){var e=F(t,u);d(e)}};return Object(i.jsx)("div",{children:void 0===p?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(N,{}),Object(i.jsx)(g,{activeStep:n,setActiveStep:a,stepsWithValues:u}),0===n&&Object(i.jsx)(M,Object(c.a)(Object(c.a)({},x),{},{step:u[0]})),1===n&&Object(i.jsx)(at,Object(c.a)(Object(c.a)({},x),{},{step:u[1]})),2===n&&Object(i.jsx)(rt,Object(c.a)(Object(c.a)({},x),{},{step:u[2]})),3===n&&Object(i.jsx)(Y,Object(c.a)(Object(c.a)({},x),{},{step:u[3]})),4===n&&Object(i.jsx)(vt,Object(c.a)(Object(c.a)({},x),{},{stepsWithValues:u,setCode:m}))]}):Object(i.jsx)(ft,{stepsWithValues:u,code:p})})}}}]);
//# sourceMappingURL=5.0a6b9ba0.chunk.js.map